{
    "family": "sql-setup-task",
    "networkMode": "awsvpc",
    "requiresCompatibilities": ["FARGATE"],
    "cpu": "256",
    "memory": "512",
    "executionRoleArn": "arn:aws:iam::498606688292:role/ecsTaskExecutionRole",
    "taskRoleArn": "arn:aws:iam::498606688292:role/ecsTaskRole",
    "containerDefinitions": [
        {
            "name": "sql-setup",
            "image": "python:3.11-slim",
            "command": [
                "/bin/sh",
                "-c",
                "pip install psycopg2-binary && python /app/run_sql_commands.py"
            ],
            "environment": [
                {"name": "PGHOST", "value": "riches-reach-postgres.cmhsue8oy30k.us-east-1.rds.amazonaws.com"},
                {"name": "PGPORT", "value": "5432"},
                {"name": "PGUSER", "value": "richesreach"},
                {"name": "PGPASSWORD", "value": "1pq72qovvWr4z6dR3Qax76ikzukfRwZs"}
            ],
            "logConfiguration": {
                "logDriver": "awslogs",
                "options": {
                    "awslogs-group": "/ecs/sql-setup",
                    "awslogs-region": "us-east-1",
                    "awslogs-stream-prefix": "ecs"
                }
            }
        }
    ]
}
